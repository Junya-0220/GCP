# ComputeEngine

## 19 ComputeEngine 仮想マシンを作成出来るサービス

### ComputeEngineとは

ComputeEngineとは、ハードウェア とは購入することなくオンデマンドで仮想マシンを利用できるコンピューティングサービスです。
ComputeEngineでは仮想マシンが仮想マシンを実行するための ソフトウェアであるハイパーバイザー上で複数実行されます。
ComputeEngineでは仮想マシン上のゲストOS CPUのコア数、メモリ容量といった構成をApp EngneやCloud Functionsといった他のGoogle Cloudのサービスより細かく設定できます。
 また一般的なアクセスの増加といった負荷の変動に応じて仮想マシンの台数を柔軟にスケールスケールアウトできます
  noComputeEngineでは何かサービスを提供しているマシンと言う機能的な意味と区別するために実際に動作している物理的な意味での仮想マシンをインスタンスと呼びます

### リソースの追加や削除がすぐに行える
システムを構築する際音プレミスだとハードウェアサーバーやネットワーク機器 アライアンス機器等の調達やデータセンター等の設置場所の確保といった初期投資が必要です
しかしComputeEngineではこのような先行投資は不要です必要な時に必要なリソースがすぐに追加でき利用しない場合は直ちに停止削除ができます
必要なのは運用し月次で発生するクラウドの利用料のみです。
ミニマムな構成でスタートしユーザ数やシステムの希望に合わせて仮想マシンを追加するといった柔軟な対応をとることができます。

* オンプレミスとComputeEngineの比較


| 項目 | オンプレミス | ComputeEngine |
| --- | --- | --- |
| OS | 柔軟に選択可能 | 提供されるイメージから選択 |
| ハードウェア | 自分で用意 | クラウドベンダーが用意 |
| 準備期間 | ハードウェアの調達期間を含めて数ヶ月 | 不要 |
| 費用 | 初期投資の費用＋運用費 | 運用費(ライセンス含む) |
| 運用・保守 | データセンターで運用・保守 | インターネット経由で運用・保守 |
| カスタマイズ | 全ての領域でカスタマイズ | 全ての領域でカスタマイズ |

### ComputeEngineはIaaS

ComputeEngineはGoogle Cloudが提供しているやつですそのためアプリケーションやミドルウェアOSについてはユーザが管理する必要があります
あぁ子と比較すると管理する範囲が広い反面ユーザが自由に設定できる範囲が大きいと言うメリットがあります
なおコンピュート園児には障害発生時の対応としてライブマイグレーションとポストエラー対応と言う大きく2つの機能が備わっています
次はこの2つの機能について解説します

### 障害発生時の対応ライブマイグレーション

ライブマイグレーションとは仮想マシンを稼働した状態のまま仮想マシンを執行する物理サーバーを別の物理サーバーに移動する仕組みです
これにより物理サーバーのメンテナンスなど物理サーバーを停止する必要がある場合でも仮想マシンの稼働を継続できます
サーバーのメンテナンスに伴う計画停止のほかハードウェア障害を検知した際にもライブマイグレーション機能に影響のない障害であればライブマイグレーションが行われます
湯沢ライブマイグレーション後特に意識する必要はありません
検知されたイベントに対するメンテナンスや 障害対応はGoogleによって行われます
ただしハードウェア障害が発生した場合ライブマイグレーションが必ず行われるわけではありません
ハードウェアが完全に故障した場合などライブマイグレーションができないときは後述のポストエラーが検知され仮想マシンは再起動されます
なおGPUが割り当てられたインスタンスとプリエンプティブ属性を持ったインスタンスはライブマイグレーションが実施されず仮想マシンは停止されるので注意が必要です

### 障害発生時の対応ホストエラー

ホストエラーとはハードウェア障害(仮想マシンをポストしている物理サーバーが完全に故障してクラッシュするなど)により仮想マシンの停止が発生することです
ホストエラーが発生すると仮想マシンの再起動が発生するので仮想マシンが停止してから起動が 旅をするまでの間仮想マシンは利用できません
仮想マシンの停止につながるようなハードウェア障害が実際に発生するのはまれです
しかし起こりうる障害からアプリケーションやシステムを守るため単一の障害でシステムが停止しないような設計が必要です
システム干支を始めとする運用に置いてポストエラーは必ず考慮する必要があります

### まとめ

ComputeEngineはオンデマンドで仮想マシンを利用できるコンピューティングサービス
ComputeEngineはリソースの追加や削除をすぐに行える

## 20 ComputeEngineを使う流れ

### ComuteEngineを使う流れ

ComputeEngineを使うにはまずはGoogleクラウドでプロジェクトを作成する必要があります
そして管理者よりComputeEngineのリソースを操作する権限を付与してもらうことでインスタンスを作成できるようになります
インスタンスを作成した後はクラウドセリアSSH接続を用いてインスタンスにアクセスしてソフトウェアのインストールといった構築作業を行います

### インスタンスの設定項目

 ComputeEngineの仮想マシン(インスタンス)は必要な項目を入力して作成ボタンをクリックするだけで作成できます
  インスタンスの作成はGoogle Cloudコンソールからおこないます
   インスタンス作成画面では次の情報を入力します
    なおインスタンスの名前は1つのプロジェクト内で1の名前にする必要があります
     リージョンが異なる場合でも11にする必要があるため注意が必要です

* インスタンスの設定項目


| 設定項目 | 説明 |
| --- | --- |
| 名前 | インスタンスの名前(Linuxインスタンスであればホスト名) |
| リージョン | リソースを実行できる特定の地理的なロケーション |
| ゾーン | リージョン内の分離された場所 |
| マシンタイプファミリー | マシンタイプをグループ化したもの。<br>汎用、メモリ最適化、コンピューティング最適化、GPUからの選択 |
| シリーズ | CPUプラットフォームの世代 |
| マシンタイプ | インスタンスのサイズ(vCPU数、メモリ) |
| ブートディスク | 利用OSとディスクサイズ |
| サービスアカウント | インスタンス内で使うGoogleCloudのサービスアカウント |
| アクセススコープ | APIアクセス権のタイプとレベル |


* インスタンスの任意設定項目


| 設定項目 | 説明 |
| --- | --- |
| ラベル | インスタンスの識別子 |
| ファイアウォールルール | インターネットからの特定のネットワークトラフィックを許可<br>(インスタンス作成画面ではHTTPとHTTPSを選択可能) |
| 削除からの保護 | インスタンスの削除を防止 |
| 説明 | インスタンスの説明 |
| 起動スクリプト | 起動時に実行されるスクリプト |
| プリエンティブル | 低価格で利用できる最大24時間有効なインスタンスとして作成するためのオプション |
| ネットワークタグ | 特定のインスタンスにファイアウォールルール<br>ルールを適用する場合に使用 |

* ディスクとネットワークに関する任意設定項目


| 設定項目 | 説明 |
| --- | --- |
| 追加ディスク | インスタンスブートディスクとは別にディスクを追加する<br> |
| ネットワーク | どのVPC (Google Cloudのネットワークサービス。)内に作るかを指定する<br>(初期設定ではデフォルト) |
| サブネットワーク | VPC内のサブネットの選択(初期設定ではデフォルト) |
| プライマリ内部IP | 「エフェメラル (自動)」「 エフェメラル (カスタム)」「 IPアドレスの作成」から選択。<br>(初期設定では「エフェメラル(自動)」) |
| 外部IP | なし、エフェメラル、IPアドレスの作成から選択 |
| ネットワークサービス階層 | ネットワークの品質パフォーマンスとプロジェクト費用のバランスを最適化する機能<br>スタンダードかプレミアムを選択する(初期設定ではプレミアム) |
| IP転送 | パケットのルーティング |
| パブリックDNS PTRレコード | パブリックの逆引きDNSを入力し、外部IPアドレスに関連付けさせる。(初期設定ではオフ) |

これらの設定を行い作成ボタンを押すとインスタンスが起動します
このようにインスタンスを作成する際は様々な情報を入力する必要があります
作成時に入力必須項目はありますが入力24項目は後から進行ができるので手軽に作成できる
必須項目の入力ミスなのですが違えてインスタンスを作成した場合気軽に削除して作り直すことが可能です

### ComputeEngineで利用できるOS

ComputeEngineでは、インスタンスを作成時に様々なOSを選択できます。
OSは、OSを含めてパッケージ化されたデータであるイメージとして公開されています
ComputeEngineで利用できる公開イメージは次のものになります。
これらのイメージからOSのバージョンを選んでインスタンスを作成します。

* 主な公開イメージ

| OS | 説明 |
| --- | --- |
| Debian | Debian Projectによって開発されているLinuxディストリビューション。<br>主なパッケージ管理システムはAPT |
| Ubuntu | Canonical Ltdから支援を受けて開発されているDebianをベースとした<br>Linuxデストリビューション。主なパッケージ管理はAPT |
| CentOS | RHELクローンのLinuxディストリビューションで、RedHatが支援しているプロジェクト。<br>主なパッケージ管理ツールはrpmやyum |
| Fedora CentOS | Linuxカーネルをベースにしたオープンソースで軽量なOS |
| Container Optimized OS | Dockerの実行に最適化されたOS |

 公開イメージは基本的には無料ですが公開イメージとは別にプレミアムイメージと呼ばれる有料のイメージもあります。

* プレミアムイメージ

| OS | 説明 |
| --- | --- |
| Red Hat Enterprise Linux(RHWL) | Red Hatが開発している業務むけのLinuxディストリビューション |
| SUSE Linux Enterprise | SUSEが開発している業務向けのLinuxディストリビューション |
| Windows Server | MicroSoftから発売されているサーバー専用のWindows OS |


 プレミアムイメージにはオンデマンドライセンスとサブスクリプション持ち込みのBYO(Brin-Your-Own-Subscription)の2種類があります。
どちらで提供されているかはOSのバージョンなどによって異なります
オンデマンドライセンスの場合ComputeEngineの利用料にライセンス料が追加されます
BYOSの場合は既存のサブスクリプションまたはライセンスをGoogleが提供しているイメージに適用できます。

### まとめ

ComputeEngineインスタンスはGoogle Cloudコンソールから気軽に作成可能
設定項目は必須項目と任意で入力できる項目が存在する
インスタンスの作成時に様々なOSを選択できる


## 21 ComputeEngineの料金

### ComputeEngineの料金

ComputeEngineの料金は従量課金制です。
使用量に応じて課金され最初の1分を超えるとその後は1秒単位で課金されます
インスタンスを起動した後1分以内に停止した場合は1分間の使用料金が発生します
このようにComputeEngine従量課金制なのでインスタンスを作成前に月間コストの見積もりを算出してから作成することをお勧めします
コストを算出する際は主に次の3つの要素を考慮する必要があります。
    
* インスタンスの利用料(マシンタイプよって変わる)
* OSの利用料(プレミアムイメージであれば別途料金が発生)
* ディスクの利用料(ディスクのタイプと容量によって変わる)

 なおネットワークの件(外向き)のトラフィックにも料金がかかりますがネットワークの使用量は状況によって変動するためまずは上記の三要素からコストを探してスティックと良いでしょう。

 ### 利用料金の割引について

vCPU(仮想マシンにおけるCPU)と メモリの 利用について一定の条件を出すと利用料金割引があります。
割引には継続利用悪い確約利用割引の2種類があります。

#### 継続利用割引

 継続利用割引が適用されるかどうかはvCPUとメモリの使用時間によって決まります。
 vCPU1個または1GBの メモリの使用時間が1ヶ月の25%を超えた場合に対象のリソースを継続利用すると自動的に割引されます。
また、 割引率は1ヶ月あたりの使用量に応じて高くなり、1ヶ月フルで稼働をする場合は約30%の割引を受けられます。
 継続利用割引は次のインスタンスが対象です。インスタンスごとに割引率が異なります。

 * N2、N2D マシンタイプ、コンピューティング最適化マシンタイプの場合は最大20%の割引
 * N1マシンタイプ、単一テナントノード(vCPU、メモリ、プレミアムコスト)、GPUの場合は、最大30%の割引

なお、 インスタンスを作成するときの画面には料金の月間予測が表示されます。

#### 確約利用割引

確約利用割引とは、特定のリージョンで、インスタンス料金を1年間または3年間支払うことを確約する代わりにコンピューティングリソースを割引き価格で購入できる仕組みです。
多くのマシンタイプで最大57%の割引が適用されます。
またメモリー最適化マシンタイプの場合は最大で70%割引が適用されます。
インスタンスを全体で利用し続けることが確定している場合は確約利用割引を購入すると良いでしょう。
ただし、一度確約利用割引を購入するとキャンセルできないため注意が必要です。

### まとめ

 ComputeEngineの料金は従量課金制
  割引には継続利用割引と確約利用割引の2種類が存在する

## 22 マシンタイプ

### マシンタイプとは

マシンタイプとは、インスタンスとして使用できる仮想的なハードウェア(メモリのサイズvCPUの数など)用途に合わせてまとめられたもので、インスタンスを作成するときに選びます。
マシンタイプは、汎用的なものから機械学習に向いているものまで様々な種類が用意されているので、利用用途を応じて適切なものを選ぶ必要があります。
なお、インスタンスを作成したインスタンスを停止すれば、身体でも変更は可能です。

* マシンタイプの種類

| 種別 | 主なマシンタイプ | 説明 |
| --- | --- | --- |
| 汎用 | N1,N2,N2D,E2 | 幅広いワークロードに適している |
| コンピューティング最適化 | C1 | コンピューティング負荷の高いワークロードに適している |
| メモリ最適化 | M1,M2 | メモリ使用量の多いワークロードに適している |
| アクセラレータ最適 | A2 | NVIDIA Ampere A100 Tensor Core GPUを基盤としている。<br>機械学習などに適している。 |

### マシンタイプの表記方法

マシンタイプの名称は「マシンタイプ-用途-vCPU数」と言う表記になります。
たとえば「n2-standard-2」という表記は、マシンタイプが「N2」用途が「standard(標準)」、vCPU数が「2」であることを表します。

### マシンタイプはそのほかのオプション

マシンタイプには次のようなオプションをあります。

#### 共有コアマシンタイプ

マシンタイプには共有コアマシンタイプと呼ばれるオプションがあります。
共有コアマシンタイプ、CPUバースト機能(ベースラインを超えたパフォーマンスでインスタンスを稼働させること)が利用できます。
CPUバースト機能は、バーストを利用するクレジット(CPU使用量の残高) CPUを利用しない時に貯めておき、高負荷時にそのクレジット利用しています。
コスト効率が良いため主に開発やテストに適しています。

#### CPUの割り当て

一部のマシンタイプを使うと、GPUを割り当てたインスタンスを作成できます。
作成する際は事前に、GoogleにGPUの割り当て申請が必要です。なお、GPUは、機械学習やGUI (グラフィカルユーザインターフェイス)を利用したい場合に適しています。

#### プリエンティブル

インスタンスにはプリエンティブルと呼ばれるオプションがあります。
プリエンティブルはComputeEngineの余剰リソースを利用するオプションでリソースの状況によっては稼働中のインスタンスを 強制停止される可能性があります。
また、起動は最大24時間、ライブマイグレーションはされないと言う制約もあります。
しかし、通常のインスタンスに比べ安く利用できるので、複数の処理を一連の流れで行うバッチ処理のようなユースケースに適しています。

#### インスタンス削除の防止

インスタンスの削除を防止するオプションがあります。
このオプションを使うと、Google Cloudコンソールで誤ってインスタンスを削除してしまうといったミスを防止できます。

### インスタンスのカスタマイズ

ComputeEngineには、これまで紹介したマシンタイプのほかに、カスタムマシンタイプと言うタイプもあります。
カスタムマシンタイプにするとインスタンスのvCPUやメモリのサイズをユーザ定義できます。
また、 マシンタイプを後からカスタムマシンタイプに変更することも可能です。
反対に、カスタムマシンタイプから通常のマシンタイプの変更も可能です。
カスタムマシンタイプは、例えば、メモリはそのままでvCPUのみ増やしたいといったケースでよく使われます。

なお、カスタムマシンタイプのインスタンスは、次の制約を考慮して作成する必要があります。

* vCPUは2の倍数でvCPUの最小許容は2
* vCPUごとにメモリ容量の上限が存在

### まとめ

マシンタイプはインスタンスとして使用できる仮想ハードウェアが用途に合わせてまとめられたもの
より安価なプリエンティブルと言うオプションがある
カスタムマシンタイプは柔軟にリソースを定義可能

## 23 ComputeEngineのストレージオプション

### ストレージオプション

ComputeEngineにはOSなどが入っているするとリスクがあります。
ブートディスクは必ず永続ディスクである必要があります。
これ以外に追加のリスクを、外部ディスクとしてマウントできます。
この追加するディスクをストレージオプションと呼びます。
ComputeEngineで選べるストレージオプションには、大きく永続ディスクとローカルSSDの2種類があります

### 永続ディスク

永続ディスクは、パソコンやサーバーの内蔵ディスクと同じように、インスタンスからアクセスできます。
後述のローカルSSDとは違い、インスタンスを停止または削除しても、データが削除される事はありません。
永続ディスクはインスタンスとは独立して存在しているため、インスタンスを削除した後でも他のインスタンスに再度接続すれば、保存したデータを続けて利用できます。
そのため、データを長期的に保持したいときに向いています。
永続ディスクには、次の3種類があります。
種類によってディスクの性能が異なり、性能が上がるほど利用料金が上がります。利用用途に合わせて、永続ディスクの種類とサイズを選択しましょう。

* 永続ディスクの種類

| 永続ディスクの種類 | 概要 | 性能 | 値段 |
| --- | --- | --- | --- |
| 標準の永続ディスク | 標準のHDDによってバックアップされる構成 | 効率的で高信頼性 | 低 |
| SSD永続ディスク | SSDによってバックアップされる構成 | 高速かつ高信頼性 | 高 |
| バランス永続ディスク | SSDによってバックアップされる構成。パフォーマンスとコストのバランスが取れたディスクで、<br>SSD永続ディスクの代わりに使用可能。 | 費用対効果に優れた高信頼性 | 中 |

また永続ディスクには、信頼性と言う面で、ゾーン永続ディスクとリージョン永続ディスクと言う種類も存在します。
ゾーン永続ディスクは1つをリージョン内の1つのゾーンに存在します。
対して、 リージョン永続ディスクは、複数のリージョンに存在するディスクの間で自動的にレプリケーションが行われます。

### ローカルSSD

ローカルSSDは、 永続ディスクと同様に、インスタンスからアクセスできるSSDです。
永続ディスクよりも高速にアクセスできるのでディスクへの書き込みが非常に多いアプリケーションやミドルウェアを利用するときに使います。
永続ディスクとは違って、ローカルSSDはインスタンスを停止または削除した際にディスク 領域のデータも削除されるので、長期的なデータの保存には向いていません。
しかし、そのトレードオフとして、非常に高いリスク性能を出すことが可能です。

### ストレージの種類

ストレージの種類について、次の表にまとめます。

* ストレージの種類

| 種類 | 概要 | ディスク１つあたりの容量 | 読み取り/書き込み速度 |
| --- | --- | --- | --- |
| ゾーン標準永続ディスク | 効率的で高信頼性のブロックストレージ | 10GB〜64TB | 読み取り/書き込みがSSDに比べて低速 |
| リージョン標準永続ディスク | リージョンないの2つのゾーンで同期レプリケーションを行う、<br>効率的で信頼性の高いブロックストレージ | 200GB〜64TB | 読み取り/書き込みがSSDに比べて低速 |
| ゾーンバランス永続ディスク | 費用対効果に優れた信頼性の高いブロックストレージ | 10GB〜64TB | 読み取り/書き込みがSSDに比べて低速 |
| リージョンバランス永続ディスク | リージョンないの2つのゾーンで同期レプリケーションを行う、<br>効率的で信頼性の高いブロックストレージ | 10GB〜64TB | 読み取り/書き込みがSSDに比べて低速 |
| ゾーンSSD永続ディスク | 高速かつ高信頼性のブロックストレージ | 10GB〜64TB | 読み取り/書き込みが高速 |
| リージョンSSD永続ディスク | リージョンないの2つのゾーンで同期レプリケーションを行う、<br>効率的で信頼性の高いブロックストレージ | 10GB〜64TB | 読み取り/書き込みが高速 |
| ローカルSSD(SCSI) | 高パフォーマンスのローカルブロックストレージ | 375GB | 読み取り/書き込みが高速 |
| ローカルSSD(NVMe) | 高パフォーマンスのローカルブロックストレージ | 375GB | 読み取り/書き込みが高速 |

### まとめ

 ストレージオプションには大きく、永続ディスクとローカルでSSDの2種類がある。
永続ディスクは、 パソコンやサーバーの内蔵ディスクと同じように、インスタンスからアクセスできるディスク
 ローカルSSDは、永続ディスクよりも高速にアクセスできる

## 24 ComputeEngineへのアクセス方法

 ### gcloudコマンドを使ったアクセス

CloudShellでComputeEngineにアクセスする際は、gcloudコマンドを使います。
CloudShellとは、GoogleCloudコンソールから操作できるコマンド実行環境のようなものです。
パソコンやスマートフォンなどの様々なデバイスで利用できます。
またローカルの端末からSSHで接続する際は、初回のみ「google compute ssh」と言うコマンドを実行してログインします。
これによりインスタンスにSSH登録されるので、以降はSSHコマンドでリモートログインできるようになります。
なお、この方法でアクセスするには外部IDが必要です。

### sshコマンドを使ったアクセス

ComputeEngineインスタンスをデフォルトの設定で作成すると、外部IP (外部からの接続に使うためのIPアドレス)としてエフェメラル (短命)な IPアドレスが付与されます。
このIPアドレスは、インスタンス停止後の再起動などにより変わることがあります。
gcloudコマンドを実行し、SSH接続する場合は問題はありません。
しかしターミナルやSSHクライアントからSSHコマンドで接続する際や「https://]でアクセスする場合は、IPアドレスが変わると接続できなくなってしまうので不便です。
そのためコンピュートエンジンにはIPアドレスが変わらないように外部IPを固定することもできます。
外部IPを 固定すると.ssh/configファイルでSSH接続を管理したり「https://」でアクセス先をブックマークしたりすることが可能になります。
なお、IPアドレスはリージョンごとに割り振られるので、他のリージョンで取得したIPアドレスを、それとは別のリージョンのインスタンスに設定することができません。
また固定したIPアドレスが、使われていない場合でも課金の対象になるので、注意しましょう。

## 25 インスタンスのバックアップ

### スナップショット
スナップショットとはある時点の永続ディスクから長文的にデータをバックアップしたものです。
スナップショットで現在の状態を取得しておくと、それを使って新しいディスクにデータを復元できるようになります。
 ただしスナップショットには仮想マシンのメタデータや沢はバックアップされません。
 また、スナップショットのディスクサイズを縮小できません。
 スナップショットの取得は、毎時から毎週といった単位でスケジューリングが可能です。
 また、スナップショットが削除されるまでの期間を、日単位で指定することもできます。
 スナップショットを取得する頻度が高いと、ストレージ料金とネットワーク料金(バックアップの際に発生するクラウドストレージへの通信コスト)がかかるので、
 スナップショットの取得は計画的に実施しましょう。
 スナップショットはインスタンスを停止することなく取得可能です。

### カスタムイメージ

 カスタムイメージとは、ユーザが作成したイメージのことです。
 既存のインスタンス4スナップショットをもとに作成できるので、既存のインスタンスの状態を保ち、ミドルウェアのインストールや設定が行われた状態で作成できます。
 スナップショットとは違い、カスタムイメージのバックアップは差分バックアップではなくフルバックアップで取得されます。
 また、カスタムイメージはプロジェクト間でも共有できます。
 例えば、開発環境と本番環境のプロジェクトが分かれている場合は、開発環境のインスタンスをもとにカスタムイメージを作成し、それを本番環境のプロジェクトに展開するといった方法が取れます。
 カスタムイメージの具体的な利用例として、ある仮想マシンを冗長構成にするケースを考えてみましょう。
 インスタンスを増やして冗長構成にする場合、ロードバランサーの追加、インスタンスの追加、インスタンス内の環境構築といった作業が必要です。
 増やしたインスタンスは、仮想マシンへと同じ環境を作るだけなので、仮想マシンへのカスタムイメージを利用すれば、ミドルウェアのインストールやアプリケーションの設定などを省略できます。
 このようにカスタムイメージを利用すると、環境構築の手間を省いて効率よく増設作業を行います。

 ### マシンイメージ

スナップショットやカスタムイメージは、ここのディスクだけをバックアップするものですが、マシンイメージでは、インスタンス全体をバックアップします。
そのため、インスタンスに接続した複数ディスクをまとめてバックアップできます。 また、ディスクの内容だけではなく、インスタンスの構成(マシンタイプやインスタンスメタデータラベルネットワークと、メンテナンスポリシーなど)もバックアップされます。
ファイアウォールの設定もそのまま引き継げるため、起動後にターゲットタグ等の設定をする必要もありません。

### まとめ

インスタンスのバックアップはスナップショット、カスタムイメージ、マシンイメージの３種類存在する
スナップショットは、ある時点の永続ディスクから、増分的にデータをバックアップしたもの
カスタムイメージとは、ユーザーが作成したイメージのこと
マシンイメージは、スナップショットやカスタムイメージと違い、インスタンス全体をバックアップできる。
